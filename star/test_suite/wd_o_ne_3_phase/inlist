
! inlist for cooling based on wd_cool_0.6M


&star_job
      show_log_description_at_start = .false.

      load_saved_model = .true.
      load_model_filename = 'wd1_10_mi8_3_ONeNa.mod'!'wd1_10_mi8_3_NeOMg.mod'
      
      set_initial_age = .true.
      initial_age = 0d0
      set_initial_model_number = .true.
      initial_model_number = 0
      
      pgstar_flag = .true.
      save_pgstar_files_when_terminate = .false.

      change_net = .true.
      new_net_name = 'custom.net'
      change_initial_net = .true.

 
        

/ ! end of star_job namelist


&eos
	  use_Skye = .true.
        use_PC = .false.
          
          ! For more accurate C/O phase diagram
        Skye_solid_mixing_rule = "Ogata"

/ ! end of eos namelist



&kap
      Zbase = 0.02d0

      kap_file_prefix = 'gs98'
      use_Type2_opacities = .true.
      include_electron_conduction = .true.
      use_blouin_conductive_opacities = .true.

/ ! end of kap name-list

&controls
       
! element diffusion

      do_element_diffusion = .true.
      diffusion_use_full_net = .true.

      ! uncomment to add a He atmosphere

      ! accrete_same_as_surface = .true.
      ! accrete_given_mass_fractions = .true.
      ! num_accretion_species = 1
      ! accretion_species_xa(1) = 1.0
      ! accretion_species_id(1) = 'he4'
      ! mass_change = 1d-8

      !star_species_mass_max_limit = 1d-4 ! Msun
      !star_species_mass_max_limit_iso = 'he4'

! solver    
      
      !to avoid problem with heating from crystallization at small timesteps
      max_corr_jump_limit = 1d7!!
      convergence_ignore_equL_residuals = .true.!!
      convergence_ignore_alpha_RTI_residuals = .true.!!
      make_gradr_sticky_in_solver_iters = .true. !!
      hydro_mtx_min_allowed_logT = -10
      hydro_mtx_max_allowed_abs_dlogT = 99d0
      hydro_mtx_max_allowed_logT = 99d0
      tol_correction_high_T_limit = 1d6
      tol_correction_norm_high_T = 3d6
      tol_max_correction_high_T = 3d6

      num_trace_history_values = 2
      trace_history_value_name(1) = 'rel_E_err'
      trace_history_value_name(2) = 'log_eel_run_e_err'

      energy_eqn_option = 'eps_grav'
      use_time_centered_eps_grav = .true.
     
      limit_for_rel_error_in_energy_conservation = 1d-4
      hard_limit_for_rel_error_in_energy_conservation = 1d-3



!phase separation      
      
      do_phase_separation = .true.
      do_phase_separation_heating = .true.
      phase_separation_mixing_use_brunt = .true.
      phase_separation_option = '3c'!'ONe'


!stop model
 
      !gamma_center_limit = 197.5d0! 190.5d0 ! Stop at the onset of crystallization using gamma center limit
      !max_years_for_timestep = 1d6 ! Reduce timestep to 1d4 at the onset for resolving the core size better


! atm

      atm_option = 'table'
      atm_table =  'DB_WD_tau_25'! 'photosphere' !  
      atm_off_table_option = 'T_tau'



! mesh

      varcontrol_target = 1d-4
      mesh_delta_coeff = 1.! 1.5 

! mlt

      use_Ledoux_criterion = .true.

      thermohaline_coeff =3!1000 for a smoother profile before the onset of crystallization
      thermohaline_option = 'Kippenhahn'  

      MLT_option = 'ML2'

      mixing_length_alpha = 1.8


! from wd_cool_0.6M test_suite model       

      clip_D_limit = 0 ! zero mixing diffusion coeffs that are smaller than this 
              
      prune_bad_cz_min_Hp_height = 0 ! lower limit on radial extent of cz
      remove_mixing_glitches = .true. ! if true, then okay to remove gaps and singletons
      
               ! the following controls are for different kinds of "glitches" that can be removed
            

               okay_to_remove_mixing_singleton = .true.
         
               min_convective_gap = 0
                  ! close gap between convective regions if smaller than this (< 0 means skip this)
                  ! gap measured radially in units of pressure scale height
         
               min_thermohaline_gap = 0 
                  ! close gap between thermohaline mixing regions if smaller than this (< 0 means skip this)
                  ! gap measured radially in units of pressure scale height
               
               min_thermohaline_dropout = 0
               max_dropout_gradL_sub_grada = 1d-3
                  ! if find radiative region embedded in thermohaline,
                  ! and max(gradL - grada) in region is everywhere < max_dropout_gradL_sub_grada
                  ! and region height is < min_thermohaline_dropout
                  ! then convert the region to thermohaline
         
               min_semiconvection_gap = 0 
                  ! close gap between semiconvective mixing regions if smaller than this (< 0 means skip this)
                  ! gap measured radially in units of pressure scale height
         
               remove_embedded_semiconvection = .false.
                  ! if have a semiconvection region bounded on each side by convection,
                  ! convert it to be convective too.
         
      
      
      photo_interval = 1 
      profile_interval = 1 !10
      history_interval = 1 !10
      terminal_interval = 1
      write_header_frequency = 10
      log_directory = 'LOGS_110_Na_3c'
      max_num_profile_models = 15000


/ ! end of controls namelist


&pgstar

 file_white_on_black_flag = .true. ! white_on_black flags -- true means white foreground color on black background
 file_device = 'png'            ! png
 file_extension = 'png'

 !file_device = 'vcps'          ! postscript
 !file_extension = 'ps'

        !Grid2_win_flag = .true.
        Grid2_win_width = 20

        !Grid2_file_flag = .true.
        Grid2_file_width = 30
        !Grid2_file_interval = 10000
 
         !Abundance_file_flag = .true.
     

          TRho_Profile_win_flag = .true.
         show_TRho_Profile_kap_regions = .false.
         show_TRho_Profile_eos_regions = .true.
         !show_TRho_Profile_degeneracy_line = .true.
         !show_TRho_Profile_Pgas_Prad_line = .true.
         !show_TRho_Profile_burn_lin.2es = .true.
         show_TRho_Profile_burn_labels = .true.
         show_TRho_Profile_text_info = .false.

         Abundance_win_flag = .true.
         Abundance_xaxis_name = 'logxm'
         Abundance_xaxis_reversed = .true.
         Abundance_xmin = -7
         Abundance_xmax = 0.5
         Abundance_log_mass_frac_min = -3
         Abundance_log_mass_frac_max = 0
          
        ! Mixing_win_flag = .true.
        ! Mixing_win_width = 6
        ! Mixing_win_aspect_ratio = 0.75
         


/ ! end of pgstar namelist



