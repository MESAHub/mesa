! inlist to create a white dwarf based on Lauffer et al. (2018)


&star_job
show_log_description_at_start = .false.
save_model_when_terminate = .true.
save_model_filename = 'wd1_10_mi8_3_ONeNa.mod' 

change_initial_net = .true.
new_net_name = 'sagb_NeNa_MgAl.net' ! use co_burn_plus.net for Ne/O/Mg core
pgstar_flag = .true.
!steps_to_take_before_terminate = 1

/ ! end of star_job namelist
&eos

!eos_file_prefix = 'mesa'
/ ! end of eos namelist

&kap
Zbase = 0.02d0
kap_file_prefix = 'gs98'
use_Type2_opacities = .true.
/ ! end of kap name-list


&controls

initial_mass = 8.3!
initial_z = 0.02d0

! terminal output
photo_interval = 50
profile_interval = 500
history_interval = 100
terminal_interval = 10
write_header_frequency = 10

max_age = 10d9
max_years_for_timestep = 1d9
varcontrol_target = 1d-3
dX_nuc_drop_limit = 1d-2
mesh_delta_coeff = 2.5
okay_to_reduce_gradT_excess = .true.

! Stop when not more nuclear burning
power_nuc_burn_lower_limit = 1d-8

! convection
mixing_length_alpha = 2
use_Ledoux_criterion = .true.
alpha_semiconvection = 0.01
thermohaline_coeff = 3!

! diffusion
do_element_diffusion = .true.
am_nu_visc_factor = 0
am_D_mix_factor = 0.0333333333333333d0
D_DSI_factor = 0
D_SH_factor = 1
D_SSI_factor = 1
D_ES_factor = 1
D_GSF_factor = 1
D_ST_factor = 1

! mass Loss
cool_wind_full_on_T = 1d6
hot_wind_full_on_T = 1d6
cool_wind_RGB_scheme = 'Reimers'
cool_wind_AGB_scheme = 'Blocker'
RGB_to_AGB_wind_switch = 1d-4
Reimers_scaling_factor = 0.5!0.1d0 !decrease if too much
Blocker_scaling_factor = 50d0!10d0

! stop if almost not He
star_species_mass_min_limit = 1d-20 ! Msun
star_species_mass_min_limit_iso = 'he4'


!overshoot
      overshoot_scheme(1) = 'exponential'
      overshoot_zone_type(1) = 'nonburn'
      overshoot_zone_loc(1) = 'any'
      overshoot_bdy_loc(1) = 'top'!'any'!
      overshoot_f(1) = 0.01
      overshoot_f0(1) = 0.005

      overshoot_scheme(2) = 'exponential'
      overshoot_zone_type(2) = 'burn_H'
      overshoot_zone_loc(2) = 'any'
      overshoot_bdy_loc(2) = 'top'!'any' !'top'
      overshoot_f(2) = 0.01
      overshoot_f0(2) = 0.005

      overshoot_scheme(3) = 'exponential'
      overshoot_zone_type(3) = 'burn_He'
      overshoot_zone_loc(3) = 'any'
      overshoot_bdy_loc(3) = 'top'!'any'!'top'
      overshoot_f(3) = 0.01
      overshoot_f0(3) = 0.005
      
      overshoot_scheme(4) = 'exponential'
      overshoot_zone_type(4) = 'burn_Z'
      overshoot_zone_loc(4) = 'shell'
      overshoot_bdy_loc(4) = 'any'
      overshoot_f(4) = 0.1 !0.5 increase if having problems to converge
      overshoot_f0(4) = 0.01 !0.1
/ ! end of controls namelist

&pgstar

  ! show HR diagram
  ! this plots the history of L,Teff over many timesteps
    HR_win_flag = .true.

  ! set static plot bounds
    HR_logT_min = 3.5
    HR_logT_max = 4.6
    HR_logL_min = 2.0
    HR_logL_max = 6.0

  ! set window size (aspect_ratio = height/width)
    HR_win_width = 6
    HR_win_aspect_ratio = 1.0


  ! show temperature/density profile
  ! this plots the internal structure at single timestep
    TRho_Profile_win_flag = .true.

  ! add legend explaining colors
    show_TRho_Profile_legend = .true.

  ! display numerical info about the star
    show_TRho_Profile_text_info = .true.

  ! set window size (aspect_ratio = height/width)
    TRho_Profile_win_width = 8
    TRho_Profile_win_aspect_ratio = 0.75
         Abundance_win_flag = .true.
         Abundance_xaxis_name = 'logxm'
         Abundance_xaxis_reversed = .true.
         Abundance_xmin = -4
         Abundance_xmax = 0.5
         Abundance_log_mass_frac_min = -4
         Abundance_log_mass_frac_max = -0.0
          
         Mixing_win_flag = .true.
         Mixing_win_width = 6
         Mixing_win_aspect_ratio = 0.75
         


/ ! end of pgstar namelist

