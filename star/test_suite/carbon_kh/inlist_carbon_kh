&star_job

  ! begin with a low density, pure carbon model
  load_saved_model = .true.
  load_model_filename = 'pure_carbon_at_rhoc_10gcc.mod'

  save_model_when_terminate = .true.
  save_model_filename = 'final.mod'
  required_termination_code_string = 'log_center_density_upper_limit'

  set_initial_age = .true.
  initial_age = 0

  set_initial_model_number = .true.
  initial_model_number = 0

  set_initial_cumulative_energy_error = .true.
  new_cumulative_energy_error = 0d0
  set_cumulative_energy_error_at_step = 1

  set_initial_dt = .true.
  years_for_initial_dt = 1

  ! no burning, so don't need a real net
  auto_extend_net = .false.
  change_net = .true.
  new_net_name = 'minimal.net'

  write_profile_when_terminate = .true.
  filename_for_profile_when_terminate = 'final_profile.data'

  pgstar_flag = .false.

/ !end of star_job namelist


&eos
  ! use only HELM by turning everything else off
  use_CMS = .false.
  use_OPAL_SCVH = .false.
  use_skye = .false.
  use_PC = .false.
  use_FreeEOS = .false. ! FreeEOS / HELM blend is major entropy source
/ ! end of eos namelist


&kap
/ ! end of kap namelist


&controls

  ! timestep limits
  varcontrol_target = 1e-3
  delta_lgT_cntr_limit = 0.01d0
  delta_lgRho_cntr_limit = 0.03d0
  delta_lgTeff_limit = -1

  use_simple_es_for_kap = .true.

  ! when to stop
  log_center_density_upper_limit = 8.5
  when_to_stop_atol = 1d-3
  when_to_stop_rtol = 0

  ! turn off nuclear reactions
  eps_nuc_factor = 0
  dxdt_nuc_factor = 0

  history_interval = 1
  write_profiles_flag = .true.
  profile_interval = 10000
  photo_interval = 100
  terminal_interval = 10

  num_trace_history_values = 2
  trace_history_value_name(1) = 'rel_E_err'
  trace_history_value_name(2) = 'log_rel_run_E_err'

  use_gold2_tolerances = .true.

  ! for convergence studies
      read_extra_controls_inlist(2) = .true.
      extra_controls_inlist_name(2)= 'inlist_resolution'

      read_extra_controls_inlist(3) = .true.
      extra_controls_inlist_name(3)= 'inlist_equations'

/ ! end of controls namelist

&pgstar

  pgstar_interval = 5

  TRho_win_flag = .true.
  TRho_logT_min = 6
  TRho_logT_max = 9
  TRho_logRho_min = 0
  TRho_logRho_max = 9

  trho_profile_win_flag = .true.
  show_TRho_Profile_eos_regions = .true.

  !### History_Panels

  History_Panels_win_flag(1) = .true.

  History_Panels_win_width(1) = 6
  History_Panels_win_aspect_ratio(1) = 0.75 ! aspect_ratio = height/width

  History_Panels_xleft(1) = 0.15
  History_Panels_xright(1) = 0.85
  History_Panels_ybot(1) = 0.15
  History_Panels_ytop(1) = 0.85
  History_Panels_txt_scale(1) = 1.0
  History_Panels_title(1) = 'History_Panels 1'

  History_Panels_xaxis_name(1) = 'model_number'
  History_Panels_xmin(1) = -101d0
  History_Panels_xmax(1) = -101d0
  History_Panels_max_width(1) = 100 ! only used if > 0.  causes xmin to move with xmax.
  History_Panels_dxmin(1) = -1
  History_Panels_xaxis_reversed(1) = .false.
  History_Panels_xaxis_log(1) = .false. ! show log10 of abs value
  History_Panels_xmargin(1) = 0.0

  History_Panels_num_panels(1) = 1

  History_Panels_yaxis_name(1, 1) = 'rel_e_eos_err_run'
  History_Panels_yaxis_reversed(1, 1) = .false.
  History_Panels_yaxis_log(1, 1) = .true. ! show log10 of abs value
  History_Panels_ymin(1, 1) = -12 ! only used if /= -101d0
  History_Panels_ymax(1, 1) = -2 ! only used if /= -101d0
  History_Panels_dymin(1, 1) = -1

  History_Panels_other_yaxis_name(1, 1) = 'rel_e_eos_err_run_blend'
  History_Panels_other_yaxis_reversed(1, 1) = .false.
  History_Panels_other_yaxis_log(1, 1) = .true. ! show log10 of abs value
  History_Panels_other_ymin(1, 1) = -12 ! only used if /= -101d0
  History_Panels_other_ymax(1, 1) = -2 ! only used if /= -101d0
  History_Panels_other_dymin(1, 1) = -1

  History_Panels_yaxis_name(1, 2) = 'rel_e_eos_err_run_blend'
  History_Panels_yaxis_reversed(1, 2) = .false.
  History_Panels_yaxis_log(1, 2) = .true. ! show log10 of abs value
  History_Panels_ymin(1, 2) = -101d0 ! only used if /= -101d0
  History_Panels_ymax(1, 2) = -101d0 ! only used if /= -101d0
  History_Panels_dymin(1, 2) = -1

  History_Panels_other_yaxis_name(1, 2) = ''
  History_Panels_other_yaxis_reversed(1, 2) = .false.
  History_Panels_other_ymin(1, 2) = -101d0 ! only used if /= -101d0
  History_Panels_other_ymax(1, 2) = -101d0 ! only used if /= -101d0
  History_Panels_other_dymin(1, 2) = -1

  History_Panels_yaxis_name(1, 3) = 'e_res_err_run'
  History_Panels_yaxis_reversed(1, 3) = .false.
  History_Panels_ymin(1, 3) = -101d0 ! only used if /= -101d0
  History_Panels_ymax(1, 3) = -101d0 ! only used if /= -101d0
  History_Panels_dymin(1, 3) = -1

  History_Panels_other_yaxis_name(1, 3) = ''
  History_Panels_other_yaxis_reversed(1, 3) = .false.
  History_Panels_other_ymin(1, 3) = -101d0 ! only used if /= -101d0
  History_Panels_other_ymax(1, 3) = -101d0 ! only used if /= -101d0
  History_Panels_other_dymin(1, 3) = -1

  ! Enables calling a subroutine to add extra information to a plot
  ! see `$MESA_DIR/star/other/pgstar_decorator.f90`
  History_Panels_use_decorator(1) = .false.

  ! file output
  History_Panels_file_flag(1) = .false.
  History_Panels_file_dir(1) = 'png'
  History_Panels_file_prefix(1) = 'History_Panels1_'
  History_Panels_file_interval(1) = 5 ! output when `mod(model_number,History_Panels_file_interval)==0`
  History_Panels_file_width(1) = -1 ! (inches) negative means use same value as for window
  History_Panels_file_aspect_ratio(1) = -1 ! negative means use same value as for window



  !### Profile_Panels

  Profile_Panels_win_flag(1) = .true.

  Profile_Panels_win_width(1) = 12
  Profile_Panels_win_aspect_ratio(1) = 0.75 ! aspect_ratio = height/width

  Profile_Panels_xleft(1) = 0.15
  Profile_Panels_xright(1) = 0.85
  Profile_Panels_ybot(1) = 0.15
  Profile_Panels_ytop(1) = 0.85
  Profile_Panels_txt_scale(1) = 1.0
  Profile_Panels_title(1) = 'carbon_kh'

  Profile_Panels_xaxis_name(1) = 'zone'
  Profile_Panels_xaxis_reversed(1) = .false.
  Profile_Panels_xmin(1) = -101d0 ! only used if /= -101d0
  Profile_Panels_xmax(1) = -101d0 ! only used if /= -101d0
  Profile_Panels_xmargin(1) = 0d0
  Profile_Panels_show_mix_regions_on_xaxis(1) = .false.

  Profile_Panels_show_grid(1) = .false.

  ! setup default plot
  Profile_Panels_num_panels(1) = 2
  Profile_Panels_yaxis_name(1, 1) = 'rse_eps_grav'
  Profile_Panels_yaxis_log(1, 1) = .true.
  Profile_Panels_other_yaxis_name(1, 1) = 'eps_eos'
  Profile_Panels_other_yaxis_log(1, 1) = .true.

  Profile_Panels_ymin(1, 1) = 0
  Profile_Panels_ymax(1, 1) = 30

  Profile_Panels_other_ymin(1, 1) = 0
  Profile_Panels_other_ymax(1, 1) = 30

  Profile_Panels_yaxis_name(1, 2) = 'eos_frac_HELM'
  Profile_Panels_other_yaxis_name(1, 2) = 'eos_frac_FreeEOS'

  Profile_Panels_ymin(1, 2) = -0.1
  Profile_Panels_ymax(1, 2) = 1.1
  Profile_Panels_other_ymin(1, 2) = 0.1
  Profile_Panels_other_ymax(1, 2) = 1.1

  ! Enables calling a subroutine to add extra information to a plot
  ! see `$MESA_DIR/star/other/pgstar_decorator.f90`
  Profile_Panels_use_decorator(1) = .false.

  ! file output
  Profile_Panels_file_flag(1) = .false.
  Profile_Panels_file_dir(1) = 'png'
  Profile_Panels_file_prefix(1) = 'profile_panels1_'
  Profile_Panels_file_interval(1) = 1 ! output when `mod(model_number,Profile_Panels_file_interval)==0`
  Profile_Panels_file_width(1) = -1 ! (inches) negative means use same value as for window
  Profile_Panels_file_aspect_ratio(1) = -1 ! negative means use same value as for window

/
